<!-- client/ai.client/src/app/conversation/components/conversation-text/user-message/user-message.component.html -->
<div class="user-message">
  @if((textContent | truncateUserInput).truncated) {
    @if(!expanded) {
      <div class="truncated-message">{{ (textContent | truncateUserInput).text }}</div>
      <ion-button (click)="expanded = !expanded" shape="round" color="tertiary">
        <ion-icon slot="icon-only" name="chevron-down-outline"></ion-icon>
      </ion-button>
    } @else {
      <div class="truncated-message">{{ textContent }}</div>
      <ion-button (click)="expanded = !expanded" shape="round" color="tertiary">
        <ion-icon slot="icon-only" name="chevron-up-outline"></ion-icon>
      </ion-button>
    }
  } @else {
    <div>{{ (textContent | truncateUserInput).text }}</div>
  }
</div>